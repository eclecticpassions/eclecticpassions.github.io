"use strict";document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("link-conversion");e?e.setAttribute("href",e.getAttribute("href").replace("cont","ecticpas").replace("-","ty@ecl").replace("act","sions.net").replace("to","mailto:na")):console.warn("No element with link-conversion.")});async function fetchWordPressPosts(){const e=document.getElementById("wp-recent-posts");try{const n=await fetch("https://www.eclecticpassions.net/wp-json/wp/v2/posts?per_page=5");if(!n.ok)throw new Error("Network response was not ok");const s=await n.json();let t='<ul class="wp-block-latest-posts__list">';s.forEach(e=>{const n=e.title.rendered,s=e.link;t+=`<li style="padding-right: 1rem;"><a class="wp-block-latest-posts__post-title" href="${s}" target="_blank" rel="noopener">${n}</a></li>`}),t+="</ul>",e.innerHTML=t}catch(t){e.innerHTML="Failed to load recent posts.",console.error(t)}}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("wp-recent-posts");if(!e)return;const t=new IntersectionObserver((e,t)=>{e[0].isIntersecting&&(fetchWordPressPosts(),t.disconnect())},{threshold:.1});t.observe(e)});async function fetchHugoPosts2(){const e=document.getElementById("hugo-recent-posts-2");try{const n=await fetch("https://www.aperture2iris.com/index.xml"),s=await n.text(),o=new DOMParser,i=o.parseFromString(s,"application/xml"),a=i.querySelectorAll("item");let t='<ul class="wp-block-latest-posts__list">';a.forEach((e,n)=>{if(n>=4)return;const s=e.querySelector("title").textContent,o=e.querySelector("link").textContent;t+=`<li style="padding-right: 1rem;">
                <a class="wp-block-latest-posts__post-title" href="${o}" target="_blank" rel="noopener">${s}</a>
                </li>`}),t+="</ul>",e.innerHTML=t}catch(t){e.innerHTML="Under construction.",console.error(t)}}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("hugo-recent-posts-2");if(!e)return;const t=new IntersectionObserver((e,t)=>{e[0].isIntersecting&&(fetchHugoPosts2(),t.disconnect())},{threshold:.1});t.observe(e)})